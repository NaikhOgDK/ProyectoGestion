{% extends 'base.html' %}

{% block content %}
<div class="container mt-4">
    <h2 class="text-center mb-4">Eliminar Documentos del Vehículo</h2>
    <form method="POST" action="{% url 'eliminar_documentosemp' vehiculo_id=vehiculo.id %}" class="card p-4 shadow">
        {% csrf_token %}
        
        {% for documento in documentos %}
            <div class="card mb-3">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">{{ documento.vehiculo }} - Documento</h5>
                </div>
                <div class="card-body">
                    <!-- Mantención Preventiva -->
                    <div class="mb-3">
                        {% if documento.Mantencion_Preventiva %}
                            <p><strong>Mantención Preventiva:</strong> <a href="{{ documento.Mantencion_Preventiva.url }}" target="_blank" class="btn btn-sm btn-outline-primary">Ver archivo</a></p>
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input" name="Mantencion_Preventiva_{{ documento.id }}" value="delete">
                                <label class="form-check-label text-danger">Eliminar este archivo</label>
                            </div>
                        {% else %}
                            <p class="text-muted">No hay archivo para eliminar.</p>
                        {% endif %}
                    </div>

                    <!-- Revisión Técnica -->
                    <div class="mb-3">
                        {% if documento.Revision_Tecnica %}
                            <p><strong>Revisión Técnica:</strong> <a href="{{ documento.Revision_Tecnica.url }}" target="_blank" class="btn btn-sm btn-outline-primary">Ver archivo</a></p>
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input" name="Revision_Tecnica_{{ documento.id }}" value="delete">
                                <label class="form-check-label text-danger">Eliminar este archivo</label>
                            </div>
                        {% else %}
                            <p class="text-muted">No hay archivo para eliminar.</p>
                        {% endif %}
                    </div>

                    <!-- Permiso de Circulación -->
                    <div class="mb-3">
                        {% if documento.Permiso_Circulacion %}
                            <p><strong>Permiso de Circulación:</strong> <a href="{{ documento.Permiso_Circulacion.url }}" target="_blank" class="btn btn-sm btn-outline-primary">Ver archivo</a></p>
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input" name="Permiso_Circulacion_{{ documento.id }}" value="delete">
                                <label class="form-check-label text-danger">Eliminar este archivo</label>
                            </div>
                        {% else %}
                            <p class="text-muted">No hay archivo para eliminar.</p>
                        {% endif %}
                    </div>

                    <!-- SOAP -->
                    <div class="mb-3">
                        {% if documento.SOAP %}
                            <p><strong>SOAP:</strong> <a href="{{ documento.SOAP.url }}" target="_blank" class="btn btn-sm btn-outline-primary">Ver archivo</a></p>
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input" name="SOAP_{{ documento.id }}" value="delete">
                                <label class="form-check-label text-danger">Eliminar este archivo</label>
                            </div>
                        {% else %}
                            <p class="text-muted">No hay archivo para eliminar.</p>
                        {% endif %}
                    </div>

                    <!-- Padrón -->
                    <div class="mb-3">
                        {% if documento.Padron %}
                            <p><strong>Padrón:</strong> <a href="{{ documento.Padron.url }}" target="_blank" class="btn btn-sm btn-outline-primary">Ver archivo</a></p>
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input" name="Padron_{{ documento.id }}" value="delete">
                                <label class="form-check-label text-danger">Eliminar este archivo</label>
                            </div>
                        {% else %}
                            <p class="text-muted">No hay archivo para eliminar.</p>
                        {% endif %}
                    </div>

                </div>
            </div>
        {% endfor %}

        <button type="submit" class="btn btn-danger w-100 mt-3">Eliminar Seleccionados</button>
    </form>
</div>
{% endblock %}
