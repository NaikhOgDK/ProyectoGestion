{% extends 'empresa/baseempresa.html' %}

{% block title %}Gestión de Hallazgos{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="row">
        <div class="col-md-12 text-center">
            <h1 class="display-4 font-weight-bold" style="color: #0b3356;">Gestión de Hallazgos</h1>
        </div>
    </div>

    <div class="row mt-5 justify-content-center">
        <div class="col-md-6">
            <div class="card shadow-sm">
                <div class="card-body text-center">
                    <h4 class="card-title">Desempeño Promedio de la Empresa</h4>
                    <p class="card-text">Valoración del desempeño de los hallazgos cerrados:</p>
                    <p class="card-text">
                        {% if desempeño_promedio > 0 %}
                            Desempeño promedio: {{ desempeño_promedio }}%
                            <br>
                            <span class="badge" style="background-color: {{ color }}; color: white; padding: 10px;">
                                {{ estado }}
                            </span>
                        {% else %}
                            No hay hallazgos cerrados aún.
                        {% endif %}
                    </p>
                </div>
            </div>
        </div>
    </div>

    <div class="row mt-5 justify-content-center">
        <div class="col-md-6">
            <div class="card shadow-sm">
                <div class="card-body text-center">
                    <h4 class="card-title">Mis Vehículos</h4>
                    <p class="card-text">Accede a la gestión de los vehículos</p>
                    <a href="{% url 'vehiculos_del_grupo' %}" class="btn btn-outline-custom mt-3" style="height: 50px; display: flex; justify-content: center; align-items: center;">
                        Ver vehículos
                    </a>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card shadow-sm">
                <div class="card-body text-center">
                    <h4 class="card-title">Subir Fechas Documentos</h4>
                    <p class="card-text">Accede a la gestión de los vehículos</p>
                    <a href="{% url 'cargar_fechas' %}" class="btn btn-outline-custom mt-3" style="height: 50px; display: flex; justify-content: center; align-items: center;">
                        Ver vehículos
                    </a>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card shadow-sm">
                <div class="card-body text-center">
                    <h4 class="card-title">Mis Conductores</h4>
                    <p class="card-text">Accede a la gestión de los conductores</p>
                    <a href="{% url 'lista_conductores' %}" class="btn btn-outline-custom mt-3" style="height: 50px; display: flex; justify-content: center; align-items: center;">
                        Ver Conductores
                    </a>
                </div>
            </div>
        </div>
    </div>

    <div class="row mt-5 justify-content-center">
        <div class="col-md-6">
            <div class="card shadow-sm">
                <div class="card-body text-center">
                    <h4 class="card-title">Hallazgos de Mi Empresa</h4>
                    <p class="card-text">Accede a la gestión de los hallazgos de tu empresa y resuelve los pendientes.</p>
                    <a href="{% url 'listar_hallazgo' %}" class="btn btn-outline-custom mt-3" style="height: 50px; display: flex; justify-content: center; align-items: center;">
                        Gestionar Hallazgos
                    </a>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card shadow-sm">
                <div class="card-body text-center">
                    <h4 class="card-title">Estado de Documentos</h4>
                    <p class="card-text">Ver el estado de los documentos</p>
                    <a href="{% url 'lista_documentos' %}" class="btn btn-outline-custom mt-3" style="height: 50px; display: flex; justify-content: center; align-items: center;">
                        Ver estados
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
